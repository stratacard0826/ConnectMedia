!function(e){"use strict";"function"==typeof define&&define.amd?define(["angular","moment"],e):"object"==typeof exports?module.exports=e(require("angular"),require("moment")):e(window.angular,window.moment)}(function(e,t){"use strict";function r(r,a){function n(n,u,o){function s(e,t,r){if(r&&(r.stopPropagation(),r.preventDefault()),e&&t.utcDateValue>-(1/0)&&t.selectable&&Y[e]){var a=Y[e](t.utcDateValue),i=[];if(a.weeks)for(var u=0;u<a.weeks.length;u+=1)for(var o=a.weeks[u],s=0;s<o.dates.length;s+=1){var l=o.dates[s];i.push(l)}n.beforeRender({$view:a.currentView,$dates:a.dates||i,$leftDate:a.leftDate,$upDate:a.previousViewDate,$rightDate:a.rightDate}),n.data=a}}function l(e){for(var r=t.utc(e).startOf("year"),a=10*parseInt(r.year()/10,10),n=t.utc(w(e)).subtract(1,"year").startOf("year"),u=V(h.$modelValue,"YYYY"),o={currentView:"year",nextView:"year"===O.minView?"setTime":"month",previousViewDate:new i({utcDateValue:null,display:a+"-"+(a+9)}),leftDate:new i({utcDateValue:t.utc(n).subtract(9,"year").valueOf()}),rightDate:new i({utcDateValue:t.utc(n).add(11,"year").valueOf()}),dates:[]},s=0;12>s;s+=1){var l=t.utc(n).add(s,"years"),d={utcDateValue:l.valueOf(),display:l.format("YYYY"),past:l.year()<a,future:l.year()>a+9,active:l.format("YYYY")===u};o.dates.push(new i(d))}return o}function d(e){for(var r=t.utc(e).startOf("year"),a=w(e),n=V(h.$modelValue,"YYYY-MMM"),u={previousView:"year",currentView:"month",nextView:"month"===O.minView?"setTime":"day",previousViewDate:new i({utcDateValue:a.valueOf(),display:r.format("YYYY")}),leftDate:new i({utcDateValue:t.utc(r).subtract(1,"year").valueOf()}),rightDate:new i({utcDateValue:t.utc(r).add(1,"year").valueOf()}),dates:[]},o=0;12>o;o+=1){var s=t.utc(r).add(o,"months"),l={utcDateValue:s.valueOf(),display:s.format("MMM"),active:s.format("YYYY-MMM")===n};u.dates.push(new i(l))}return u}function c(e){for(var r=t.utc(e),a=t.utc(r).startOf("month"),n=t.utc(r).startOf("year"),u=t.utc(r).endOf("month"),o=t.utc(a).subtract(Math.abs(a.weekday()),"days"),s=V(h.$modelValue,"YYYY-MMM-DD"),l={previousView:"month",currentView:"day",nextView:"day"===O.minView?"setTime":"hour",previousViewDate:new i({utcDateValue:n.valueOf(),display:a.format("YYYY-MMM")}),leftDate:new i({utcDateValue:t.utc(a).subtract(1,"months").valueOf()}),rightDate:new i({utcDateValue:t.utc(a).add(1,"months").valueOf()}),dayNames:[],weeks:[]},d=0;7>d;d+=1)l.dayNames.push(t.utc().weekday(d).format("dd"));for(var c=0;6>c;c+=1){for(var f={dates:[]},m=0;7>m;m+=1){var p=t.utc(o).add(7*c+m,"days"),v={utcDateValue:p.valueOf(),display:p.format("D"),active:p.format("YYYY-MMM-DD")===s,past:p.isBefore(a),future:p.isAfter(u)};f.dates.push(new i(v))}l.weeks.push(f)}return l}function f(e){for(var r=t.utc(e).startOf("day"),a=t.utc(r).startOf("month"),n=V(h.$modelValue,"YYYY-MM-DD H"),u={previousView:"day",currentView:"hour",nextView:"hour"===O.minView?"setTime":"minute",previousViewDate:new i({utcDateValue:a.valueOf(),display:r.format("ll")}),leftDate:new i({utcDateValue:t.utc(r).subtract(1,"days").valueOf()}),rightDate:new i({utcDateValue:t.utc(r).add(1,"days").valueOf()}),dates:[]},o=0;24>o;o+=1){var s=t.utc(r).add(o,"hours"),l={utcDateValue:s.valueOf(),display:s.format("LT"),active:s.format("YYYY-MM-DD H")===n};u.dates.push(new i(l))}return u}function m(e){for(var r=t.utc(e).startOf("hour"),a=t.utc(r).startOf("day"),n=V(h.$modelValue,"YYYY-MM-DD H:mm"),u={previousView:"hour",currentView:"minute",nextView:"setTime",previousViewDate:new i({utcDateValue:a.valueOf(),display:r.format("lll")}),leftDate:new i({utcDateValue:t.utc(r).subtract(1,"hours").valueOf()}),rightDate:new i({utcDateValue:t.utc(r).add(1,"hours").valueOf()}),dates:[]},o=60/O.minuteStep,s=0;o>s;s+=1){var l=t.utc(r).add(s*O.minuteStep,"minute"),d={utcDateValue:l.valueOf(),display:l.format("LT"),active:l.format("YYYY-MM-DD H:mm")===n};u.dates.push(new i(d))}return u}function p(e){var r=new Date(e),a=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds());switch(O.modelType){case"Date":break;case"moment":a=t(a);break;case"milliseconds":a=e;break;default:a=t(a).format(O.modelType)}var i=h.$modelValue;return h.$setViewValue(a),O.dropdownSelector&&jQuery(O.dropdownSelector).dropdown("toggle"),n.onSetTime({newDate:a,oldDate:i}),Y[O.startView](e)}function v(){n.changeView(O.startView,new i({utcDateValue:y(h.$viewValue)}))}function w(e){var r=10*parseInt(t.utc(e).year()/10,10);return t.utc(e).year(r).startOf("year")}function V(e,t){return e?D(e).format(t):""}function D(r){return t(r,e.isString(r)?O.parseFormat:void 0)}function y(e){var t=new Date;if(e){var r=D(e);if(!r.isValid())throw"Invalid date: "+e;t=r.toDate()}return t.getTime()-6e4*t.getTimezoneOffset()}function g(){var t={};o.datetimepickerConfig&&(t=n.$parent.$eval(o.datetimepickerConfig));var i=e.extend({},r,t);return a.validate(i),i}var h=u.controller("ngModel"),O=g();n.screenReader=O.screenReader,n.changeView=s,h.$render=v,O.configureOn&&n.$on(O.configureOn,function(){O=g(),n.screenReader=O.screenReader,h.$render()}),O.renderOn&&n.$on(O.renderOn,h.$render);var Y={year:l,month:d,day:c,hour:f,minute:m,setTime:p}}function i(){var e=new Date,t=6e4*e.getTimezoneOffset();this.utcDateValue=e.getTime(),this.selectable=!0,this.localDateValue=function(){return this.utcDateValue+t};var r=["utcDateValue","localDateValue","display","active","selectable","past","future"];for(var a in arguments[0])r.indexOf(a)>=0&&(this[a]=arguments[0][a])}var u={bindToController:!1,controller:n,controllerAs:"dateTimePickerController",replace:!0,require:"ngModel",restrict:"E",scope:{beforeRender:"&",onSetTime:"&"},templateUrl:"templates/datetimepicker.html"};return n.$inject=["$scope","$element","$attrs"],u}function a(){var r={configureOn:null,dropdownSelector:null,minuteStep:5,minView:"minute",modelType:"Date",parseFormat:"YYYY-MM-DDTHH:mm:ss.SSSZZ",renderOn:null,startView:"day"},a={bg:{previous:"предишна",next:"следваща"},ca:{previous:"anterior",next:"següent"},da:{previous:"forrige",next:"næste"},de:{previous:"vorige",next:"weiter"},"en-au":{previous:"previous",next:"next"},"en-gb":{previous:"previous",next:"next"},en:{previous:"previous",next:"next"},"es-us":{previous:"atrás",next:"siguiente"},es:{previous:"atrás",next:"siguiente"},fi:{previous:"edellinen",next:"seuraava"},fr:{previous:"précédent",next:"suivant"},hu:{previous:"előző",next:"következő"},it:{previous:"precedente",next:"successivo"},ja:{previous:"前へ",next:"次へ"},ml:{previous:"മുൻപുള്ളത്",next:"അടുത്തത്"},nl:{previous:"vorige",next:"volgende"},pl:{previous:"poprzednia",next:"następna"},"pt-br":{previous:"anteriores",next:"próximos"},pt:{previous:"anterior",next:"próximo"},ro:{previous:"anterior",next:"următor"},ru:{previous:"предыдущая",next:"следующая"},sk:{previous:"predošlá",next:"ďalšia"},sv:{previous:"föregående",next:"nästa"},tr:{previous:"önceki",next:"sonraki"},uk:{previous:"назад",next:"далі"},"zh-cn":{previous:"上一页",next:"下一页"},"zh-tw":{previous:"上一頁",next:"下一頁"}},n=a[t.locale().toLowerCase()];return e.extend({},r,{screenReader:n})}function n(t){function r(r){var a=["configureOn","dropdownSelector","minuteStep","minView","modelType","parseFormat","renderOn","startView","screenReader"];for(var n in r)if(a.indexOf(n)<0)throw"invalid option: "+n;var i=["minute","hour","day","month","year"];if(i.indexOf(r.startView)<0)throw"invalid startView value: "+r.startView;if(i.indexOf(r.minView)<0)throw"invalid minView value: "+r.minView;if(i.indexOf(r.minView)>i.indexOf(r.startView))throw"startView must be greater than minView";if(!e.isNumber(r.minuteStep))throw"minuteStep must be numeric";if(r.minuteStep<=0||r.minuteStep>=60)throw"minuteStep must be greater than zero and less than 60";if(null!==r.configureOn&&!e.isString(r.configureOn))throw"configureOn must be a string";if(null!==r.configureOn&&r.configureOn.length<1)throw"configureOn must not be an empty string";if(null!==r.renderOn&&!e.isString(r.renderOn))throw"renderOn must be a string";if(null!==r.renderOn&&r.renderOn.length<1)throw"renderOn must not be an empty string";if(null!==r.modelType&&!e.isString(r.modelType))throw"modelType must be a string";if(null!==r.modelType&&r.modelType.length<1)throw"modelType must not be an empty string";if("Date"!==r.modelType&&"moment"!==r.modelType&&"milliseconds"!==r.modelType&&(r.parseFormat=r.modelType),null!==r.dropdownSelector&&!e.isString(r.dropdownSelector))throw"dropdownSelector must be a string";null===r.dropdownSelector||"undefined"!=typeof jQuery&&"function"==typeof jQuery().dropdown||(t.error("Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly."),delete r.dropdownSelector)}return{validate:r}}e.module("ui.bootstrap.datetimepicker",[]).service("dateTimePickerConfig",a).service("dateTimePickerValidator",n).directive("datetimepicker",r),r.$inject=["dateTimePickerConfig","dateTimePickerValidator"],n.$inject=["$log"]});